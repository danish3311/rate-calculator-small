<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        referrerpolicy="no-referrer"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">

    <title>True Rate Tool Calculator</title>

</head>

<body>
    <div class="container">
        <div class="title-section">
            <div class="title">Rate Calculator</div>

            <div class="title-item">
                <label for="avg-mile">Enter your average miles per gallon: </label>
                <input type="number" class="bg-color" name="avg-mile" id="avg-mile-per-gellon">

            </div>

            <div class="title-item" >
                <label for="gas-price" style="margin-bottom: 4px;">Enter current gas price: $ </label>
                <input type="number" class="bg-color" name="gas-price" id="current-gas-price">
            </div>

        </div>

            <div class="single-table">
                <div class="table">
                    <table>

                        <tr>
                            <th>1st Trip</th>
                            <th>Load #1</th>
                            <th>Load #2</th>
                        </tr>

                        <tr>
                            <td>Trip Miles</td>
                            <td><input type="number" class="bg-color" name="" id="ft-trim-1"></td>
                            <td><input type="number" class="bg-color" name="" id="ft-trim-2"></td>
                        </tr>
                        <tr>
                            <td>Dead Head / Pickup</td>
                            <td><input type="number" class="bg-color" name="" id="ft-dhp-1"></td>
                            <td><input type="number" class="bg-color" name="" id="ft-dhp-2"></td>
                        </tr>
                        <tr>
                            <td>Dead Head / Delivery</td>
                            <td><input type="number" class="bg-color" name="" id="ft-dhd-1"></td>
                            <td><input type="number" class="bg-color" name="" id="ft-dhd-2"></td>
                        </tr>
                        <tr>
                            <td>Total Miles</td>
                            <td><input type="number" class="disable" readonly name="" id="ft-tm-1"></td>
                            <td><input type="number" class="disable" readonly name="" id="ft-tm-2"></td>
                        </tr>

                        <tr>
                            <td>Rate:$</td>
                            <td><input type="number" class="bg-color" name="" id="ft-r-1"></td>
                            <td><input type="number" class="bg-color" name="" id="ft-r-2"></td>
                        </tr>
                        <tr>
                            <td>Weight</td>
                            <td><input type="number" class="bg-color" name="" id="ft-w-1"></td>
                            <td><input type="number" class="bg-color" name="" id="ft-w-2"></td>
                        </tr>
                        <tr>
                            <td>Fuel Reduction:%</td>
                            <td><input type="number" class="disable" readonly name="" id="ft-fr-1"></td>
                            <td><input type="number" class="disable" readonly name="" id="ft-fr-2"></td>
                            <td><input type="hidden" class="disable display-none" readonly id="ft-frh-1"></td>
                            <td><input type="hidden" class="disable display-none" readonly name="" id="ft-frh-2"></td>
                        </tr>
                        <tr>
                            <td>Fuel Cost:$</td>
                            <td><input type="number" class="disable" readonly name="" id="ft-fc-1"></td>
                            <td><input type="number" class="disable" readonly name="" id="ft-fc-2"></td>
                        </tr>
                        <tr>
                            <td>Days</td>
                            <td><input type="number" class="bg-color" name="" id="ft-d-1"></td>
                            <td><input type="number" class="bg-color" name="" id="ft-d-2"></td>
                        </tr>
                        <tr>
                            <td>Rate Per Mile:$</td>
                            <td><input type="number" class="disable" readonly name="" id="ft-rpm-1"></td>
                            <td><input type="number" class="disable" readonly name="" id="ft-rpm-2"></td>
                        </tr>
                        <tr>
                            <td>True RPM:$</td>
                            <td><input type="number" class="disable light-green" readonly name="" id="ft-trpm-1"></td>
                            <td><input type="number" class="disable light-green" readonly name="" id="ft-trpm-2"></td>
                        </tr>
                        <tr>
                            <td>True Day Rate:$</td>
                            <td><input type="number" class="disable light-green" readonly name="" id="ft-tdr-1"></td>
                            <td><input type="number" class="disable light-green" readonly name="" id="ft-tdr-2"></td>
                        </tr>
                        <tr>
                            <td>True Rate:$</td>
                            <td><input type="number" class="disable light-green" readonly name="" id="ft-tr-1"></td>
                            <td><input type="number" class="disable light-green" readonly name="" id="ft-tr-2"></td>
                        </tr>

                    </table>
                </div>
            </div>
            <div class="table-bottom">
                <table>
                    <tr>
                        <th class="total1">Total Rate Per Mile $</th>
                        <th class="total1">Total Rate Per Day $</th>
                        <th class="total1">Total Rate $</th>
                    </tr>
                    <tr>
                        <td><input type="number" class="disable dark-green" readonly name="" id="f-trpm"></td>
                        <td><input type="number" class="disable dark-green" readonly name="" id="f-trpd"></td>
                        <td><input type="number" class="disable dark-green" readonly name="" id="f-ttr"></td>
                    </tr>
                </table>
            </div>
    </div>
    </div>

    <script>
        $(document).ready(function () {

            // Load 1




            $('#ft-trim-1').on('input', function () {
                var value1 = parseFloat($('#ft-trim-1').val());
                $('#ft-tm-1').val((value1).toFixed(0));
                $('#ft-w-1').trigger('click');
                $('#ft-tdr-1').trigger('click');
            });



            $('#ft-dhp-1').on('input', function () {
                var value1 = parseFloat($('#ft-trim-1').val());
                var value2 = parseFloat($('#ft-dhp-1').val());
                $('#ft-tm-1').val((value1 + value2).toFixed(0));
                $('#ft-w-1').trigger('click');
                $('#ft-tdr-1').trigger('click');
            });

            $('#ft-dhd-1').on('input', function () {
                var value1 = parseFloat($('#ft-trim-1').val());
                var value2 = parseFloat($('#ft-dhp-1').val());
                var value3 = parseFloat($('#ft-dhd-1').val());
                $('#ft-tm-1').val((value1 + value2 + value3).toFixed(0));
                $('#ft-w-1').trigger('click');
                $('#ft-tdr-1').trigger('click');
            })

            $('#ft-dhd-1 #ft-dhd-1 #ft-trim-1 #ft-dhd-1').on('input change', function () {
                $('#ft-w-1').trigger('click');
                $('#ft-trpm-1').trigger('click');
                $('#ft-rpm-1').trigger('click');
                $('#ft-fc-1').trigger('input');
                $('#ft-tr-1').trigger('click');
            })

            $('#ft-dhd-1').on('update', function () {
                $('#ft-w-1').trigger('click');
            })


            $('#ft-w-1').on('input click', function () {
                var weight = parseFloat($('#ft-w-1').val());
                var fuleReductionValue = (weight / 1000) * 0.005;
                var fuleReductionDisplay = Math.round(fuleReductionValue * 100);
                $('#ft-fr-1').val(fuleReductionDisplay);
                $('#ft-frh-1').val(fuleReductionValue);
                $('#ft-fc-1').trigger('input');
                $('#ft-rpm-1').trigger('click');
                $('#ft-tdr-1').trigger('click');
            })

            $('#ft-fc-1').on('input', function () {
                var weight = parseFloat($('#ft-w-1').val());
                var fuleReduction = parseFloat($('#ft-frh-1').val());
                var totalMiles = parseFloat($('#ft-tm-1').val());
                var avgMiles = parseFloat($('#avg-mile-per-gellon').val());
                var fulePrice = parseFloat($('#current-gas-price').val());
                var fuleCost = (totalMiles / (avgMiles * (1 - fuleReduction)) * fulePrice).toFixed(2);
                $('#ft-fc-1').val(fuleCost);
                $('#ft-tr-1').trigger('click');
            })

            $('#ft-tr-1').on('click', function () {
                var rate = parseFloat($('#ft-r-1').val());
                var totalMiles = parseFloat($('#ft-tm-1').val());
                var fuleCost = parseFloat($('#ft-fc-1').val());
                $('#ft-tr-1').val(((rate) - (fuleCost)).toFixed(2));
                $('#ft-trpm-1').trigger('click');
            })

            $('#ft-r-1').on('input', function () {
                $('#ft-rpm-1').trigger('click');
                $('#ft-tr-1').trigger('click');
                $('#ft-tdr-1').trigger('click');
            })


            $('#ft-trpm-1').on('click', function () {
                var totalMiles = parseFloat($('#ft-tm-1').val());
                var trueRate = parseFloat($('#ft-tr-1').val());
                $('#ft-trpm-1').val(((trueRate) / (totalMiles)).toFixed(2));

            })

            $('#ft-tdr-1').on('click', function () {
                var trueRate = parseFloat($('#ft-tr-1').val());
                var days = parseFloat($('#ft-d-1').val());
                $('#ft-tdr-1').val(((trueRate) / (days)).toFixed(2));
                $('#ft-rpm-1').trigger('click')
            })


            $('#ft-d-1').on('input', function () {
                $('#ft-tdr-1').trigger('click');
            })


            $('#ft-rpm-1').on('click', function () {
                var rate = parseFloat($('#ft-r-1').val());
                var totalMiles = parseFloat($('#ft-tm-1').val());
                $('#ft-rpm-1').val(((rate) / (totalMiles)).toFixed(2));
            })




            ////
            //   working
            ///////

            // Load 2


            $('#ft-trim-2').on('input', function () {
                var value1 = parseFloat($('#ft-trim-2').val());
                $('#ft-tm-2').val((value1).toFixed(0));
                $('#ft-w-2').trigger('click');
                $('#ft-tdr-2').trigger('click');
            });



            $('#ft-dhp-2').on('input', function () {
                var value1 = parseFloat($('#ft-trim-2').val());
                var value2 = parseFloat($('#ft-dhp-2').val());
                $('#ft-tm-2').val((value1 + value2).toFixed(0));
                $('#ft-w-2').trigger('click');
                $('#ft-tdr-2').trigger('click');
            });

            $('#ft-dhd-2').on('input', function () {
                var value1 = parseFloat($('#ft-trim-2').val());
                var value2 = parseFloat($('#ft-dhp-2').val());
                var value3 = parseFloat($('#ft-dhd-2').val());
                $('#ft-tm-2').val((value1 + value2 + value3).toFixed(0));
                $('#ft-w-2').trigger('click');
                $('#ft-tdr-2').trigger('click');
            })

            $('#ft-dhd-2 #ft-dhd-2 #ft-trim-2 #ft-dhd-2').on('input change', function () {
                $('#ft-w-2').trigger('click');
                $('#ft-trpm-2').trigger('click');
                $('#ft-rpm-2').trigger('click');
                $('#ft-fc-2').trigger('input');
                $('#ft-tr-2').trigger('click');
            })

            $('#ft-dhd-2').on('update', function () {
                $('#ft-w-2').trigger('click');
            })


            $('#ft-w-2').on('input click', function () {
                var weight = parseFloat($('#ft-w-2').val());
                var fuleReductionValue = (weight / 1000) * 0.005;
                var fuleReductionDisplay = Math.round(fuleReductionValue * 100);
                $('#ft-fr-2').val(fuleReductionDisplay);
                $('#ft-frh-2').val(fuleReductionValue);
                $('#ft-fc-2').trigger('input');
                $('#ft-rpm-2').trigger('click');
                $('#ft-tdr-2').trigger('click');
            })


            $('#ft-fc-2').on('input', function () {
                var weight = parseFloat($('#ft-w-2').val());
                var fuleReduction = parseFloat($('#ft-frh-2').val());
                var totalMiles = parseFloat($('#ft-tm-2').val());
                var avgMiles = parseFloat($('#avg-mile-per-gellon').val());
                var fulePrice = parseFloat($('#current-gas-price').val());
                var fuleCost = (totalMiles / (avgMiles * (1 - fuleReduction)) * fulePrice).toFixed(2);
                $('#ft-fc-2').val(fuleCost);
                $('#ft-tr-2').trigger('click');
            })

            $('#ft-tr-2').on('click', function () {
                var rate = parseFloat($('#ft-r-2').val());
                var totalMiles = parseFloat($('#ft-tm-2').val());
                var fuleCost = parseFloat($('#ft-fc-2').val());
                $('#ft-tr-2').val(((rate) - (fuleCost)).toFixed(2));
                $('#ft-trpm-2').trigger('click');
            })

            $('#ft-r-2').on('input', function () {
                $('#ft-rpm-2').trigger('click');
                $('#ft-tr-2').trigger('click');
                $('#ft-tdr-2').trigger('click');
            })


            $('#ft-trpm-2').on('click', function () {
                var totalMiles = parseFloat($('#ft-tm-2').val());
                var trueRate = parseFloat($('#ft-tr-2').val());
                $('#ft-trpm-2').val(((trueRate) / (totalMiles)).toFixed(2));

            })

            $('#ft-tdr-2').on('click', function () {
                var trueRate = parseFloat($('#ft-tr-2').val());
                var days = parseFloat($('#ft-d-2').val());
                $('#ft-tdr-2').val(((trueRate) / (days)).toFixed(2));
                $('#ft-rpm-2').trigger('click')
            })


            $('#ft-d-2').on('input', function () {
                $('#ft-tdr-2').trigger('click');
                $('.total1').trigger('click');
            })


            $('#ft-rpm-2').on('click', function () {
                var rate = parseFloat($('#ft-r-2').val());
                var totalMiles = parseFloat($('#ft-tm-2').val());
                $('#ft-rpm-2').val(((rate) / (totalMiles)).toFixed(2));
            })

            ////final


            ///////// calculate total 1#


            $('.total1').on('click', function () {

                var max1 = parseFloat($('#ft-trpm-1').val());
                var max2 = parseFloat($('#ft-trpm-2').val());
                var average  =max1 + max2 / 2;
                $('#f-trpm').val((average).toFixed(2));
                if(max1>max2){
                    $('#ft-trpm-1').addClass('dark-green');
                }else{
                    $('#ft-trpm-2').addClass('dark-green');
                }

            })

            $('.total1').on('click', function () {
                var max3 = parseFloat($('#ft-tdr-1').val())
                var max4 = parseFloat($('#ft-tdr-2').val());
                var average2 = max3 + max4 / 2 ;
                $('#f-trpd').val((average2).toFixed(2));
                 if(max3>max4){
                    $('#ft-tdr-1').addClass('dark-green');
                }else{
                    $('#ft-tdr-2').addClass('dark-green');
                }
            })

            $('.total1').on('click', function () {
                var max5 = parseFloat($('#ft-tr-1').val());
                var max6 = parseFloat($('#ft-tr-2').val());
                var sum = (max5 + max6);
                $('#f-ttr').val((sum).toFixed(2));
                if(max5>max6){
                    $('#ft-tr-1').addClass('dark-green');
                }else{
                    $('#ft-tr-2').addClass('dark-green');
                }

            })

        })
    </script>



</body>

</html>